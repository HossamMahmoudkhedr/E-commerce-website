<nav>
  <div
    *ngIf="showCart"
    (click)="toggleCart()"
    class="z-[3] fixed top-0 end-0 w-[100%] h-[100%] bg-black opacity-50"
  ></div>
  <div
    class="fixed top-0 start-0 h-[100%] w-[30%] bg-white z-9 transition-all duration-1000 px-5 py-8"
    [class.translate-x-0]="showCart"
    [class.translate-x-[-100%]]="!showCart"
  >
    <div class="mb-6">
      <h3 class="font-bold text-2xl text-center">
        Cart Items {{ cartItems.length }}
      </h3>
    </div>
    <div class="flex flex-col justify-between gap-5 h-[95%]">
      <div class="flex flex-col gap-4">
        @for(product of cartItems; track product.id){

        <app-cart-item [productData]="product"></app-cart-item>
        }
      </div>
      <div>
        <a
          (click)="toggleCart()"
          routerLink="/checkout"
          class="block uppercase text-center bg-black text-white w-[100%] py-4 rounded-4xl cursor-pointer"
        >
          checkout
        </a>
      </div>
    </div>
  </div>
  <div class="flex items-center justify-between px-6 py-4">
    <div class="font-poppins text-3xl"><a routerLink="/">Logo</a></div>
    <div>
      <a routerLink="/"> <img src="logo.png" alt="" /></a>
    </div>
    <div class="flex gap-8 items-center">
      <div>
        <div class="flex gap-3 items-center">
          <button class="btn bg-black rounded-full p-[13px] cursor-pointer">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="22"
              height="22"
              viewBox="0 0 22 22"
              fill="none"
            >
              <path
                d="M12.8058 16.6943L12.7597 15.9458L12.7597 15.9458L12.8058 16.6943ZM7.33265 6.82443L7.27616 7.5723C7.47947 7.58766 7.68026 7.51958 7.83231 7.38375C7.98436 7.24792 8.07455 7.05605 8.08213 6.8523L7.33265 6.82443ZM16.5253 13.3716L15.7867 13.2417L16.5253 13.3716ZM12.8058 16.6943L12.7597 15.9458C11.1685 16.0438 9.53438 16.2341 7.93554 16.0486C6.37518 15.8676 4.93299 15.3326 3.75936 14.0189L3.20004 14.5185L2.64072 15.0182C4.12623 16.6811 5.95228 17.3286 7.76269 17.5386C9.53465 17.7442 11.3739 17.534 12.852 17.4429L12.8058 16.6943ZM3.20004 14.5185L3.75936 14.0189C2.61674 12.7398 2.38577 11.0269 2.96456 9.70578C3.52249 8.43233 4.89674 7.39259 7.27616 7.5723L7.33265 6.82443L7.38913 6.07656C4.4577 5.85516 2.43608 7.17414 1.59064 9.10384C0.766056 10.9859 1.12422 13.3206 2.64072 15.0182L3.20004 14.5185ZM12.8058 16.6943L12.852 17.4429C13.3848 17.4101 13.9662 17.3726 14.496 17.265C15.0256 17.1575 15.5862 16.9652 16.0342 16.565L15.5346 16.0057L15.0349 15.4464C14.8708 15.5929 14.6086 15.7116 14.1976 15.795C13.7869 15.8784 13.31 15.9118 12.7597 15.9458L12.8058 16.6943ZM16.5253 13.3716L17.264 13.5015C17.5205 12.043 17.9359 10.239 17.9307 8.45517C17.9254 6.63262 17.487 4.74539 16.0015 3.08251L15.4422 3.58217L14.8829 4.08183C16.0565 5.3956 16.4261 6.88874 16.4307 8.45957C16.4354 10.0691 16.0628 11.6715 15.7867 13.2417L16.5253 13.3716ZM15.4422 3.58217L16.0015 3.08251C14.485 1.38493 12.2054 0.76681 10.2426 1.37478C8.23012 1.99813 6.69242 3.85881 6.58317 6.79656L7.33265 6.82443L8.08213 6.8523C8.17081 4.46776 9.35832 3.21898 10.6864 2.80762C12.0641 2.38087 13.7403 2.80277 14.8829 4.08183L15.4422 3.58217ZM16.5253 13.3716L15.7867 13.2417C15.6912 13.7847 15.6044 14.2548 15.4754 14.6535C15.3463 15.0525 15.199 15.2998 15.0349 15.4464L15.5346 16.0057L16.0342 16.565C16.4823 16.1647 16.7363 15.6293 16.9026 15.1152C17.069 14.6007 17.1715 14.0272 17.264 13.5015L16.5253 13.3716Z"
                fill="white"
              />
            </svg>
          </button>

          <button
            (click)="toggleCart()"
            class="relative btn border-5 rounded-full cursor-pointer"
          >
            <span
              class="absolute top-[-8px] end-[-8px] rounded-full bg-gray-700 text-white font-bold text-sm w-[22px] h-[22px]"
              >{{ cartCount }}</span
            >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="38"
              height="38"
              viewBox="0 0 38 38"
              fill="none"
            >
              <circle cx="18.6666" cy="19" r="18.5185" fill="white" />
              <path
                d="M12.5829 24.8256C13.515 26 15.25 26 18.7198 26H19.2802C22.75 26 24.485 26 25.4171 24.8256M12.5829 24.8256C11.6507 23.6511 11.9704 21.8681 12.6099 18.3021C13.0646 15.7662 13.292 14.4982 14.1552 13.7491M12.5829 24.8256C12.5829 24.8256 12.5829 24.8256 12.5829 24.8256ZM25.4171 24.8256C26.3493 23.6511 26.0296 21.8681 25.3901 18.3021C24.9354 15.7662 24.708 14.4982 23.8448 13.7491M25.4171 24.8256C25.4171 24.8256 25.4171 24.8256 25.4171 24.8256ZM23.8448 13.7491C22.9816 13 21.7478 13 19.2802 13H18.7198C16.2522 13 15.0184 13 14.1552 13.7491M23.8448 13.7491C23.8448 13.7491 23.8448 13.7491 23.8448 13.7491ZM14.1552 13.7491C14.1552 13.7491 14.1552 13.7491 14.1552 13.7491Z"
                stroke="black"
                stroke-width="1.5"
              />
              <path
                d="M17 16C17.2911 17.1652 18.0766 18 19 18C19.9234 18 20.7089 17.1652 21 16"
                stroke="black"
                stroke-width="1.5"
                stroke-linecap="round"
              />
            </svg>
          </button>
        </div>
      </div>

      <div class="flex gap-4 items-center" *ngIf="!loggedIn">
        <a
          routerLink="/login"
          class="bg-black rounded-3xl text-white px-4 py-2"
        >
          Login
        </a>
        <a routerLink="/signup" class="rounded-3xl border px-3 py-2">
          Sign up
        </a>
      </div>
      <div class="flex gap-4 items-center" *ngIf="loggedIn">
        <a routerLink="/profile/1">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="size-13"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"
            />
          </svg>
        </a>
        <button
          (click)="handleLogout()"
          class="bg-black rounded-3xl text-white px-4 py-2 cursor-pointer"
        >
          Logout
        </button>
      </div>
    </div>
  </div>
</nav>
